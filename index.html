<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CRABSTAR â€” Autonomous Redistribution Agent on Solana</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #050a0f;
    --bg2: #0a1520;
    --cyan: #00ffcc;
    --orange: #ff6b00;
    --red: #ff2244;
    --green: #00ff88;
    --yellow: #ffdd00;
    --blue: #0088ff;
    --white: #e0fff8;
    --dim: #1a3040;
    --border: #00ffcc44;
  }
  * { margin:0; padding:0; box-sizing:border-box; }
  html { scroll-behavior:smooth; }
  body {
    background:var(--bg);
    color:var(--white);
    font-family:'Press Start 2P', monospace;
    font-size:10px;
    line-height:1.8;
    overflow-x:hidden;
    cursor:crosshair;
  }

  /* CRT scanlines */
  body::before {
    content:'';
    position:fixed;
    inset:0;
    background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,0.12) 2px,rgba(0,0,0,0.12) 4px);
    pointer-events:none;
    z-index:9999;
  }
  body::after {
    content:'';
    position:fixed;
    inset:0;
    background:radial-gradient(ellipse at center,transparent 60%,rgba(0,0,0,0.65) 100%);
    pointer-events:none;
    z-index:9998;
  }

  /* â”€â”€ INTRO â”€â”€ */
  #intro {
    position:fixed; inset:0; background:var(--bg); z-index:1000;
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    gap:36px; cursor:pointer;
  }
  #intro.hidden { animation:fadeOut .5s forwards; }
  @keyframes fadeOut { to { opacity:0; pointer-events:none; visibility:hidden; } }
  .intro-crab { font-size:90px; animation:crabBounce 1.1s infinite; filter:drop-shadow(0 0 25px #ff6b00); }
  @keyframes crabBounce { 0%,100%{transform:translateY(0) scaleX(1);} 50%{transform:translateY(-18px) scaleX(-1);} }
  .intro-title { color:var(--cyan); font-size:clamp(14px,3vw,26px); letter-spacing:6px; text-shadow:0 0 20px var(--cyan),4px 4px 0 #003322; animation:glitch 3s infinite; }
  @keyframes glitch {
    0%,88%,100%{text-shadow:0 0 20px var(--cyan),4px 4px 0 #003322; transform:none;}
    90%{text-shadow:-4px 0 var(--red),4px 4px 0 var(--blue); transform:translate(3px,0);}
    92%{text-shadow:4px 0 var(--orange); transform:translate(-3px,0);}
    94%{text-shadow:0 0 20px var(--cyan),4px 4px 0 #003322; transform:none;}
  }
  .intro-sub { color:var(--orange); font-size:9px; animation:blink 1s infinite; }
  @keyframes blink { 0%,49%{opacity:1;} 50%,100%{opacity:0;} }

  /* â”€â”€ NAV â”€â”€ */
  nav {
    position:fixed; top:0; left:0; right:0; z-index:100;
    background:rgba(5,10,15,0.96);
    border-bottom:2px solid var(--cyan);
    padding:10px 24px;
    display:flex; align-items:center; justify-content:space-between;
    backdrop-filter:blur(10px);
  }
  .nav-logo { color:var(--cyan); font-size:12px; text-shadow:0 0 10px var(--cyan); display:flex; align-items:center; gap:8px; }
  .nav-logo .crab-walk { display:inline-block; animation:crabWalk 2s infinite; font-size:18px; }
  @keyframes crabWalk { 0%,100%{transform:scaleX(1);} 50%{transform:scaleX(-1);} }
  .nav-links { display:flex; gap:20px; }
  .nav-links a { color:var(--white); text-decoration:none; font-size:7px; opacity:.7; transition:all .2s; border-bottom:2px solid transparent; padding:3px 0; }
  .nav-links a:hover { color:var(--cyan); opacity:1; border-bottom-color:var(--cyan); }
  .nav-ca {
    background:var(--dim); border:2px solid var(--cyan);
    color:var(--cyan); padding:5px 10px; font-size:7px;
    cursor:pointer; font-family:'Press Start 2P',monospace; transition:all .2s;
  }
  .nav-ca:hover { background:var(--cyan); color:var(--bg); box-shadow:0 0 15px var(--cyan); }

  /* â”€â”€ TICKER â”€â”€ */
  .ticker-wrap { background:var(--bg2); border-top:2px solid var(--cyan); border-bottom:2px solid var(--cyan); overflow:hidden; padding:8px 0; white-space:nowrap; }
  .ticker-inner { display:inline-block; animation:ticker 28s linear infinite; }
  .ticker-inner span { margin:0 36px; font-size:8px; color:var(--cyan); }
  .pos { color:var(--green)!important; } .neg { color:var(--red)!important; }
  @keyframes ticker { 0%{transform:translateX(0);} 100%{transform:translateX(-50%);} }

  /* â”€â”€ HERO â”€â”€ */
  #hero {
    min-height:100vh; padding-top:120px;
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    text-align:center; position:relative; max-width:100%;
  }
  .hero-bg {
    position:absolute; inset:0;
    background:
      radial-gradient(circle at 20% 50%,rgba(0,255,204,.08) 0%,transparent 50%),
      radial-gradient(circle at 80% 30%,rgba(255,107,0,.08) 0%,transparent 50%);
    pointer-events:none;
  }
  .hero-bg::after {
    content:''; position:absolute; inset:0;
    background-image:linear-gradient(var(--border) 1px,transparent 1px),linear-gradient(90deg,var(--border) 1px,transparent 1px);
    background-size:40px 40px; opacity:.25;
  }

  /* pixel crab */
  .pixel-crab-wrap { position:relative; margin:0 auto 36px; }
  .glow-ring { position:absolute; inset:-20px; border-radius:50%; border:2px solid var(--orange); opacity:.3; animation:ringPulse 2s infinite; }
  .glow-ring:nth-child(2){inset:-42px; animation-delay:.5s; opacity:.18;}
  .glow-ring:nth-child(3){inset:-64px; animation-delay:1s; opacity:.1;}
  @keyframes ringPulse { 0%,100%{transform:scale(1);opacity:.3;} 50%{transform:scale(1.05);opacity:.1;} }
  .pixel-crab-svg { animation:crabFloat 3s ease-in-out infinite; filter:drop-shadow(0 0 30px #ff6600); }
  @keyframes crabFloat { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-14px);} }

  .hero-tag { background:var(--orange); color:var(--bg); padding:4px 14px; font-size:8px; margin-bottom:18px; display:inline-block; }
  .hero-title {
    font-size:clamp(18px,4vw,44px); color:var(--cyan);
    text-shadow:0 0 30px var(--cyan),5px 5px 0 #003322;
    margin-bottom:14px; letter-spacing:3px;
  }
  .hero-sub { color:var(--white); font-size:10px; opacity:.8; margin-bottom:28px; max-width:600px; }

  .ca-box {
    background:var(--bg2); border:3px solid var(--cyan); padding:10px 18px;
    font-size:8px; color:var(--cyan); cursor:pointer; margin:16px auto;
    display:inline-flex; align-items:center; gap:12px;
    transition:all .2s; box-shadow:4px 4px 0 var(--cyan);
  }
  .ca-box:hover { transform:translate(-2px,-2px); box-shadow:6px 6px 0 var(--cyan); }
  .ca-label { color:var(--orange); font-size:7px; }

  .hero-buttons { display:flex; gap:14px; margin-top:20px; flex-wrap:wrap; justify-content:center; }
  .btn-primary {
    background:var(--orange); color:var(--bg);
    border:3px solid var(--orange); padding:12px 22px;
    font-size:9px; cursor:pointer; font-family:'Press Start 2P',monospace;
    box-shadow:4px 4px 0 #662200; transition:all .15s; text-decoration:none;
  }
  .btn-primary:hover { transform:translate(-2px,-2px); box-shadow:6px 6px 0 #662200; }
  .btn-secondary {
    background:transparent; color:var(--cyan);
    border:3px solid var(--cyan); padding:12px 22px;
    font-size:9px; cursor:pointer; font-family:'Press Start 2P',monospace;
    box-shadow:4px 4px 0 #003322; transition:all .15s; text-decoration:none;
  }
  .btn-secondary:hover { transform:translate(-2px,-2px); box-shadow:6px 6px 0 #003322; background:rgba(0,255,204,.1); }

  /* â”€â”€ SECTION â”€â”€ */
  .section-header { text-align:center; margin-bottom:50px; }
  .section-tag { color:var(--orange); font-size:8px; letter-spacing:4px; opacity:.8; margin-bottom:10px; }
  .section-title { color:var(--cyan); font-size:clamp(14px,2.5vw,22px); text-shadow:0 0 20px var(--cyan),3px 3px 0 #003322; margin-bottom:8px; }
  .section-line { width:80px; height:3px; background:var(--orange); margin:14px auto 0; box-shadow:0 0 10px var(--orange); }

  /* â”€â”€ STATS BAR â”€â”€ */
  .stats-bar { display:grid; grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); gap:16px; max-width:1200px; margin:50px auto; padding:0 40px; }
  .stat-card {
    background:var(--bg2); border:3px solid var(--cyan);
    padding:18px; text-align:center; box-shadow:4px 4px 0 var(--cyan);
    position:relative; overflow:hidden;
  }
  .stat-card::before {
    content:''; position:absolute; top:0; left:-100%; width:100%; height:2px;
    background:linear-gradient(90deg,transparent,var(--cyan),transparent);
    animation:scanLine 3s infinite;
  }
  @keyframes scanLine { 0%{left:-100%;} 100%{left:200%;} }
  .stat-value { color:var(--cyan); font-size:18px; text-shadow:0 0 12px var(--cyan); margin-bottom:6px; display:block; }
  .stat-label { color:var(--white); font-size:6px; opacity:.6; letter-spacing:2px; }
  .stat-card.orange{border-color:var(--orange);box-shadow:4px 4px 0 var(--orange);}
  .stat-card.orange .stat-value{color:var(--orange);text-shadow:0 0 12px var(--orange);}
  .stat-card.orange::before{background:linear-gradient(90deg,transparent,var(--orange),transparent);}
  .stat-card.green{border-color:var(--green);box-shadow:4px 4px 0 var(--green);}
  .stat-card.green .stat-value{color:var(--green);text-shadow:0 0 12px var(--green);}
  .stat-card.green::before{background:linear-gradient(90deg,transparent,var(--green),transparent);}
  .stat-card.red{border-color:var(--red);box-shadow:4px 4px 0 var(--red);}
  .stat-card.red .stat-value{color:var(--red);text-shadow:0 0 12px var(--red);}

  /* â”€â”€ DASHBOARD TERMINAL â”€â”€ */
  #dashboard { padding:80px 40px; background:rgba(0,10,20,.6); }
  #dashboard > .inner { max-width:1200px; margin:0 auto; }

  .terminal {
    background:#000d14;
    border:3px solid var(--cyan);
    box-shadow:0 0 40px rgba(0,255,204,.12), 6px 6px 0 var(--cyan);
    overflow:hidden;
  }
  .terminal-bar {
    background:var(--cyan); color:var(--bg);
    padding:9px 16px; font-size:9px;
    display:flex; align-items:center; justify-content:space-between;
    user-select:none;
  }
  .terminal-bar .dots { display:flex; gap:6px; }
  .dot { width:10px; height:10px; border-radius:0; }
  .dot-r{background:#ff2244;} .dot-y{background:#ffdd00;} .dot-g{background:#00ff88;}
  .terminal-body { padding:20px; overflow:auto; }

  /* countdown */
  .cycle-timer {
    background:var(--bg2); border:3px solid var(--orange);
    padding:12px 20px; margin-bottom:20px;
    display:flex; align-items:center; justify-content:space-between;
    box-shadow:4px 4px 0 var(--orange);
  }
  .timer-label { font-size:7px; color:var(--orange); letter-spacing:2px; }
  .timer-val { font-size:20px; color:var(--orange); text-shadow:0 0 15px var(--orange); animation:timerPulse 1s infinite; }
  @keyframes timerPulse { 0%,100%{opacity:1;} 50%{opacity:.7;} }
  .cycle-num { font-size:7px; color:var(--white); opacity:.6; }

  /* leaderboard */
  .lb-header {
    display:grid;
    grid-template-columns:40px 1fr 100px 100px 100px 80px;
    gap:8px; padding:8px 12px;
    font-size:7px; color:var(--cyan);
    border-bottom:2px solid var(--cyan);
    letter-spacing:1px; opacity:.8;
  }
  .lb-row {
    display:grid;
    grid-template-columns:40px 1fr 100px 100px 100px 80px;
    gap:8px; padding:10px 12px;
    font-size:7px; border-bottom:1px solid rgba(0,255,204,.1);
    align-items:center; transition:background .2s;
  }
  .lb-row:hover { background:rgba(0,255,204,.04); }
  .lb-row.top1 { border-left:4px solid var(--red); background:rgba(255,34,68,.05); }
  .lb-row.top2 { border-left:4px solid var(--orange); }
  .lb-row.top3 { border-left:4px solid var(--yellow); }
  .lb-rank { color:var(--white); opacity:.5; }
  .lb-rank.r1{color:var(--red);opacity:1;font-size:10px;}
  .lb-rank.r2{color:var(--orange);opacity:1;}
  .lb-rank.r3{color:var(--yellow);opacity:1;}
  .lb-wallet { color:var(--white); font-family:'Press Start 2P',monospace; }
  .lb-wallet a { color:var(--cyan); text-decoration:none; } .lb-wallet a:hover{text-decoration:underline;}
  .lb-pnl-neg { color:var(--red); text-shadow:0 0 8px var(--red); }
  .lb-pnl-pos { color:var(--green); }
  .lb-val { color:var(--white); opacity:.8; }
  .lb-badge {
    font-size:6px; padding:2px 6px; border:1px solid;
    font-family:'Press Start 2P',monospace; text-align:center;
  }
  .badge-target{border-color:var(--red);color:var(--red);animation:blink 1s infinite;}
  .badge-hold{border-color:var(--dim);color:var(--white);opacity:.4;}

  /* distributions feed */
  .dist-feed { margin-top:20px; }
  .dist-row {
    background:var(--bg2); border:2px solid var(--dim);
    padding:12px 16px; margin-bottom:8px;
    display:grid; grid-template-columns:60px 1fr auto auto;
    gap:12px; align-items:center; font-size:7px;
  }
  .dist-cycle { color:var(--cyan); }
  .dist-wallet { color:var(--white); opacity:.8; }
  .dist-amount { color:var(--green); }
  .dist-burn { color:var(--red); }

  /* â”€â”€ BRAIN â”€â”€ */
  #brain { padding:80px 40px; max-width:1200px; margin:0 auto; }
  .brain-flow {
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
    gap:2px; margin-bottom:50px;
  }
  .flow-step {
    background:var(--bg2); border:3px solid var(--dim);
    padding:24px 20px; position:relative; text-align:center;
    transition:all .3s;
  }
  .flow-step:hover { border-color:var(--cyan); box-shadow:4px 4px 0 var(--cyan); transform:translate(-2px,-2px); }
  .flow-arrow {
    position:absolute; right:-14px; top:50%; transform:translateY(-50%);
    color:var(--cyan); font-size:16px; z-index:1;
  }
  .flow-step:last-child .flow-arrow{display:none;}
  .flow-num { color:var(--orange); font-size:20px; text-shadow:0 0 12px var(--orange); margin-bottom:12px; display:block; }
  .flow-icon { font-size:28px; margin-bottom:10px; display:block; }
  .flow-title { color:var(--cyan); font-size:8px; margin-bottom:8px; }
  .flow-desc { color:var(--white); font-size:6px; opacity:.7; line-height:2.4; }

  .split-visual {
    background:var(--bg2); border:3px solid var(--cyan);
    padding:30px; text-align:center; box-shadow:4px 4px 0 var(--cyan);
    margin-bottom:40px;
  }
  .split-title { color:var(--cyan); font-size:11px; margin-bottom:24px; }
  .split-bars { display:flex; gap:20px; justify-content:center; align-items:flex-end; }
  .split-bar { display:flex; flex-direction:column; align-items:center; gap:8px; }
  .split-fill {
    width:100px; border:3px solid;
    display:flex; align-items:center; justify-content:center;
    font-size:18px; font-family:'Press Start 2P',monospace;
  }
  .split-fill.loser { border-color:var(--orange); background:rgba(255,107,0,.1); color:var(--orange); height:140px; }
  .split-fill.burn { border-color:var(--red); background:rgba(255,34,68,.1); color:var(--red); height:140px; }
  .split-label { font-size:7px; color:var(--white); opacity:.7; text-align:center; }

  /* â”€â”€ CONSTITUTION â”€â”€ */
  #constitution { background:rgba(0,5,10,.9); padding:80px 40px; }
  #constitution > .inner { max-width:900px; margin:0 auto; }
  .law-card {
    background:var(--bg2); border-left:6px solid var(--cyan);
    padding:22px; margin-bottom:18px; position:relative; transition:all .3s;
  }
  .law-card:hover { border-left-color:var(--orange); padding-left:28px; }
  .law-num {
    position:absolute; top:-11px; right:16px;
    background:var(--cyan); color:var(--bg);
    font-size:7px; padding:3px 10px;
  }
  .law-card:hover .law-num{background:var(--orange);}
  .law-title { color:var(--cyan); font-size:9px; margin-bottom:10px; }
  .law-card:hover .law-title{color:var(--orange);}
  .law-text { color:var(--white); font-size:7px; opacity:.8; line-height:2.5; }

  /* â”€â”€ FOOTER â”€â”€ */
  footer { background:var(--bg2); border-top:3px solid var(--cyan); padding:50px 40px 36px; text-align:center; }
  .footer-crab { font-size:56px; animation:crabBounce 2s infinite; display:block; margin-bottom:16px; filter:drop-shadow(0 0 18px var(--orange)); }
  .footer-logo { color:var(--cyan); font-size:18px; text-shadow:0 0 12px var(--cyan); margin-bottom:14px; }
  .footer-links { display:flex; gap:16px; justify-content:center; margin:20px 0; flex-wrap:wrap; }
  .footer-links a {
    color:var(--white); text-decoration:none; font-size:7px;
    opacity:.6; padding:5px 10px; border:1px solid var(--border); transition:all .2s;
  }
  .footer-links a:hover{opacity:1;color:var(--cyan);border-color:var(--cyan);}
  .footer-copy{color:var(--white);font-size:6px;opacity:.3;margin-top:24px;}

  /* â”€â”€ TOAST â”€â”€ */
  .toast {
    position:fixed; bottom:28px; right:28px;
    background:var(--cyan); color:var(--bg);
    padding:10px 18px; font-size:8px; z-index:9000;
    animation:slideIn .3s ease,slideOut .3s ease 1.5s forwards;
    box-shadow:4px 4px 0 #003322;
  }
  @keyframes slideIn{from{transform:translateX(120%);}to{transform:translateX(0);}}
  @keyframes slideOut{from{transform:translateX(0);}to{transform:translateX(120%);}}

  /* â”€â”€ REVEAL â”€â”€ */
  .reveal { opacity:0; transform:translateY(28px); transition:all .6s ease; }
  .reveal.visible { opacity:1; transform:translateY(0); }

  /* â”€â”€ LOADING â”€â”€ */
  .loading-text { animation:loadPulse 1.2s infinite; }
  @keyframes loadPulse{0%,100%{opacity:.3;}50%{opacity:1;}}

  /* â”€â”€ RESPONSIVE â”€â”€ */
  @media(max-width:900px){
    .lb-header,.lb-row{grid-template-columns:30px 1fr 80px 70px;}
    .lb-header span:nth-child(3),.lb-row span:nth-child(3),
    .lb-header span:nth-child(5),.lb-row span:nth-child(5){display:none;}
    nav{padding:8px 14px;}
    .nav-links{display:none;}
    #brain,#dashboard,#constitution,footer{padding:50px 20px;}
  }
</style>
</head>
<body>

<!-- â•â•â• INTRO â•â•â• -->
<div id="intro" onclick="enterSite()">
  <div class="intro-crab">ğŸ¦€</div>
  <div class="intro-title">CRABSTAR</div>
  <div style="color:var(--white);font-size:8px;opacity:.5;letter-spacing:3px;">REDISTRIBUTION AGENT Â· SOLANA</div>
  <div class="intro-sub">â–º CLICK TO ENTER â—„</div>
  <div style="color:var(--white);font-size:7px;opacity:.4;">PAIN IS REWARDED Â· SUPPLY SHRINKS Â· FOREVER</div>
</div>

<!-- â•â•â• NAV â•â•â• -->
<nav>
  <div class="nav-logo">
    <span class="crab-walk">ğŸ¦€</span>
    <span>CRABSTAR</span>
  </div>
  <div class="nav-links">
    <a href="#hero">HOME</a>
    <a href="#dashboard">DASHBOARD</a>
    <a href="#brain">HOW IT WORKS</a>
    <a href="#constitution">LAWS</a>
  </div>
  <button class="nav-ca" onclick="copyCA()">COPY CA</button>
</nav>

<!-- â•â•â• HERO â•â•â• -->
<section id="hero">
  <div class="hero-bg"></div>

  <div class="pixel-crab-wrap">
    <div class="glow-ring"></div>
    <div class="glow-ring"></div>
    <div class="glow-ring"></div>
    <svg class="pixel-crab-svg" width="200" height="155" viewBox="0 0 200 155" xmlns="http://www.w3.org/2000/svg" shape-rendering="crispEdges">
      <!-- left claw -->
      <rect x="0" y="38" width="16" height="16" fill="#cc3300"/>
      <rect x="16" y="30" width="16" height="16" fill="#cc3300"/>
      <rect x="0" y="54" width="16" height="16" fill="#ff4400"/>
      <rect x="16" y="62" width="16" height="16" fill="#cc3300"/>
      <rect x="32" y="46" width="16" height="16" fill="#ff4400"/>
      <rect x="48" y="54" width="16" height="16" fill="#ff4400"/>
      <!-- right claw -->
      <rect x="184" y="38" width="16" height="16" fill="#cc3300"/>
      <rect x="168" y="30" width="16" height="16" fill="#cc3300"/>
      <rect x="184" y="54" width="16" height="16" fill="#ff4400"/>
      <rect x="168" y="62" width="16" height="16" fill="#cc3300"/>
      <rect x="152" y="46" width="16" height="16" fill="#ff4400"/>
      <rect x="136" y="54" width="16" height="16" fill="#ff4400"/>
      <!-- body -->
      <rect x="64" y="46" width="72" height="64" fill="#ff4400"/>
      <rect x="56" y="54" width="88" height="56" fill="#ff5511"/>
      <rect x="64" y="62" width="72" height="48" fill="#ff6622"/>
      <!-- shell -->
      <rect x="72" y="54" width="16" height="8" fill="#ff8844" opacity=".5"/>
      <rect x="96" y="54" width="16" height="8" fill="#ff8844" opacity=".5"/>
      <rect x="80" y="70" width="40" height="8" fill="#ff8844" opacity=".3"/>
      <!-- eyes -->
      <rect x="76" y="46" width="16" height="16" fill="#fff"/>
      <rect x="108" y="46" width="16" height="16" fill="#fff"/>
      <rect x="80" y="50" width="8" height="8" fill="#000"/>
      <rect x="112" y="50" width="8" height="8" fill="#000"/>
      <rect x="82" y="51" width="3" height="3" fill="#fff"/>
      <rect x="114" y="51" width="3" height="3" fill="#fff"/>
      <!-- mouth -->
      <rect x="88" y="78" width="24" height="6" fill="#cc3300"/>
      <rect x="92" y="80" width="4" height="4" fill="#ffaa00"/>
      <rect x="100" y="80" width="4" height="4" fill="#ffaa00"/>
      <rect x="108" y="80" width="4" height="4" fill="#ffaa00"/>
      <!-- legs -->
      <rect x="64" y="110" width="8" height="28" fill="#cc3300"/>
      <rect x="80" y="110" width="8" height="32" fill="#cc3300"/>
      <rect x="96" y="110" width="8" height="28" fill="#cc3300"/>
      <rect x="112" y="110" width="8" height="32" fill="#cc3300"/>
      <rect x="128" y="110" width="8" height="28" fill="#cc3300"/>
      <rect x="64" y="138" width="8" height="8" fill="#ff4400"/>
      <rect x="80" y="142" width="8" height="8" fill="#ff4400"/>
      <rect x="96" y="138" width="8" height="8" fill="#ff4400"/>
      <rect x="112" y="142" width="8" height="8" fill="#ff4400"/>
      <rect x="128" y="138" width="8" height="8" fill="#ff4400"/>
      <!-- star badge -->
      <rect x="88" y="56" width="24" height="6" fill="#ffdd00"/>
      <rect x="92" y="52" width="4" height="4" fill="#ffdd00"/>
      <rect x="104" y="52" width="4" height="4" fill="#ffdd00"/>
      <rect x="86" y="60" width="4" height="4" fill="#ffdd00"/>
      <rect x="110" y="60" width="4" height="4" fill="#ffdd00"/>
    </svg>
  </div>

  <div class="hero-tag">ğŸ¦€ AUTONOMOUS REDISTRIBUTION AGENT Â· SOLANA</div>
  <h1 class="hero-title">CRABSTAR</h1>
  <p class="hero-sub">Every 5 minutes: fees â†’ top losers rewarded Â· supply burned forever.<br>Pain is rewarded. Supply shrinks. Always.</p>

  <div class="ca-box" onclick="copyCA()">
    <span class="ca-label">CONTRACT ADDRESS</span>
    <span id="ca-display">YOUR_TOKEN_MINT_ADDRESS</span>
    <span>ğŸ“‹</span>
  </div>

  <div class="hero-buttons">
    <a href="#dashboard" class="btn-primary">ğŸ“Š VIEW DASHBOARD</a>
    <a href="https://x.com/crabstarwilde" target="_blank" class="btn-secondary">ğŸ¦ TWITTER</a>
    <a href="https://pump.fun" target="_blank" class="btn-secondary">ğŸ”¥ PUMP.FUN</a>
  </div>
</section>

<!-- â•â•â• TICKER â•â•â• -->
<div class="ticker-wrap">
  <div class="ticker-inner" id="tickerInner">
    <span>$CRABSTAR <span class="pos" id="tk-price">ONLINE â—</span></span>
    <span>CYCLES <span class="pos" id="tk-cycles">â€”</span></span>
    <span>TOTAL DISTRIBUTED <span class="pos" id="tk-dist">â€”</span> $CRABSTAR</span>
    <span>TOTAL BURNED ğŸ”¥ <span class="neg" id="tk-burn">â€”</span> $CRABSTAR</span>
    <span>AGENT STATUS <span class="pos">ONLINE â—</span></span>
    <span>$CRABSTAR <span class="pos" id="tk-price2">ONLINE â—</span></span>
    <span>CYCLES <span class="pos" id="tk-cycles2">â€”</span></span>
    <span>TOTAL DISTRIBUTED <span class="pos" id="tk-dist2">â€”</span> $CRABSTAR</span>
    <span>TOTAL BURNED ğŸ”¥ <span class="neg" id="tk-burn2">â€”</span> $CRABSTAR</span>
    <span>AGENT STATUS <span class="pos">ONLINE â—</span></span>
  </div>
</div>

<!-- â•â•â• STATS â•â•â• -->
<div class="stats-bar reveal">
  <div class="stat-card">
    <span class="stat-value" id="s-cycles">â€”</span>
    <span class="stat-label">TOTAL CYCLES</span>
  </div>
  <div class="stat-card orange">
    <span class="stat-value" id="s-dist">â€”</span>
    <span class="stat-label">$CRABSTAR DISTRIBUTED</span>
  </div>
  <div class="stat-card red">
    <span class="stat-value" id="s-burn">â€”</span>
    <span class="stat-label">$CRABSTAR BURNED ğŸ”¥</span>
  </div>
  <div class="stat-card green">
    <span class="stat-value" id="s-sol">â€”</span>
    <span class="stat-label">SOL USED</span>
  </div>
  <div class="stat-card">
    <span class="stat-value" id="s-holders">â€”</span>
    <span class="stat-label">ACTIVE HOLDERS</span>
  </div>
</div>

<!-- â•â•â• DASHBOARD â•â•â• -->
<div id="dashboard">
<div class="inner">
  <div class="section-header reveal">
    <div class="section-tag">// LIVE TERMINAL</div>
    <h2 class="section-title">ğŸ¦€ LOSERS LEADERBOARD</h2>
    <div class="section-line"></div>
    <p style="color:var(--white);font-size:7px;opacity:.6;margin-top:14px;">Top holders by unrealized loss Â· The biggest loser gets the airdrop every cycle</p>
  </div>

  <!-- Cycle Timer -->
  <div class="cycle-timer reveal">
    <div>
      <div class="timer-label">â± NEXT CYCLE IN</div>
      <div style="margin-top:4px;font-size:6px;color:var(--white);opacity:.4;" id="last-cycle-label">Loading...</div>
    </div>
    <div class="timer-val" id="countdown">04:59</div>
    <div class="cycle-num">CYCLE #<span id="cycle-num">â€”</span></div>
  </div>

  <!-- TERMINAL -->
  <div class="terminal reveal">
    <div class="terminal-bar">
      <div class="dots">
        <div class="dot dot-r"></div>
        <div class="dot dot-y"></div>
        <div class="dot dot-g"></div>
      </div>
      <span>CRABSTAR â€” REDISTRIBUTION TERMINAL v1.0</span>
      <span id="api-status" style="font-size:7px;color:var(--bg);">â— CONNECTING...</span>
    </div>
    <div class="terminal-body">

      <!-- Leaderboard header -->
      <div class="lb-header">
        <span>#</span>
        <span>WALLET</span>
        <span>BALANCE</span>
        <span>COST BASIS</span>
        <span>CURR VALUE</span>
        <span>PNL (SOL)</span>
        <!-- status col on wide -->
      </div>

      <!-- Leaderboard rows -->
      <div id="lb-body">
        <div style="padding:20px;text-align:center;color:var(--cyan);font-size:8px;" class="loading-text">
          LOADING HOLDER DATA...
        </div>
      </div>

      <!-- Divider -->
      <div style="border-top:2px solid var(--cyan);margin:20px 0;opacity:.3;"></div>

      <!-- Last distribution -->
      <div style="color:var(--orange);font-size:8px;margin-bottom:12px;letter-spacing:2px;">ğŸ“¤ RECENT DISTRIBUTIONS</div>
      <div id="dist-feed">
        <div style="color:var(--white);font-size:7px;opacity:.4;" class="loading-text">Loading distributions...</div>
      </div>

    </div>
  </div>

</div>
</div>

<!-- â•â•â• HOW IT WORKS â•â•â• -->
<section id="brain">
  <div class="section-header reveal">
    <div class="section-tag">// REDISTRIBUTION ENGINE</div>
    <h2 class="section-title">âš™ï¸ HOW IT WORKS</h2>
    <div class="section-line"></div>
  </div>

  <!-- flow -->
  <div class="brain-flow reveal">
    <div class="flow-step">
      <span class="flow-icon">ğŸ’¸</span>
      <span class="flow-num">01</span>
      <div class="flow-title">FEES COLLECTED</div>
      <div class="flow-desc">Every trade on pump.fun generates creator fees that accumulate in the bot wallet automatically.</div>
      <span class="flow-arrow">â–¶</span>
    </div>
    <div class="flow-step">
      <span class="flow-icon">ğŸ”</span>
      <span class="flow-num">02</span>
      <div class="flow-title">SCAN HOLDERS</div>
      <div class="flow-desc">Every 5 minutes the agent scans all $CRABSTAR holders and ranks them by unrealized PnL â€” lowest first.</div>
      <span class="flow-arrow">â–¶</span>
    </div>
    <div class="flow-step">
      <span class="flow-icon">ğŸ†</span>
      <span class="flow-num">03</span>
      <div class="flow-title">TOP LOSER FOUND</div>
      <div class="flow-desc">The holder with the biggest negative unrealized PnL is identified as the target for this cycle's reward.</div>
      <span class="flow-arrow">â–¶</span>
    </div>
    <div class="flow-step">
      <span class="flow-icon">ğŸ”„</span>
      <span class="flow-num">04</span>
      <div class="flow-title">BUYBACK</div>
      <div class="flow-desc">Accumulated SOL fees are used to buy $CRABSTAR directly on the pump.fun bonding curve â€” no Jupiter, native swap.</div>
      <span class="flow-arrow">â–¶</span>
    </div>
    <div class="flow-step">
      <span class="flow-icon">âš¡</span>
      <span class="flow-num">05</span>
      <div class="flow-title">SPLIT & EXECUTE</div>
      <div class="flow-desc">Purchased tokens are split: 50% airdropped to the top loser, 50% burned forever via SPL burn.</div>
    </div>
  </div>

  <!-- 50/50 split visual -->
  <div class="split-visual reveal">
    <div class="split-title">THE 50 / 50 SPLIT</div>
    <div class="split-bars">
      <div class="split-bar">
        <div class="split-fill loser">50%</div>
        <div class="split-label">ğŸ¯ AIRDROP<br>TO TOP LOSER<br><span style="color:var(--orange);">PAIN REWARDED</span></div>
      </div>
      <div style="display:flex;align-items:center;font-size:28px;color:var(--white);opacity:.3;padding:0 20px;">+</div>
      <div class="split-bar">
        <div class="split-fill burn">50%</div>
        <div class="split-label">ğŸ”¥ SPL BURN<br>SUPPLY REDUCED<br><span style="color:var(--red);">FOREVER</span></div>
      </div>
    </div>
    <div style="margin-top:24px;font-size:7px;color:var(--white);opacity:.5;line-height:2.5;">
      Every cycle â†’ less supply Â· more value per token Â· losers get compensated<br>
      Cooldown: a wallet can only win once every 2 cycles
    </div>
  </div>

  <!-- Key facts -->
  <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;" class="reveal">
    <div style="background:var(--bg2);border:3px solid var(--dim);padding:20px;transition:all .3s;" onmouseover="this.style.borderColor='var(--cyan)'" onmouseout="this.style.borderColor='var(--dim)'">
      <div style="color:var(--orange);font-size:16px;margin-bottom:10px;">â±</div>
      <div style="color:var(--cyan);font-size:8px;margin-bottom:6px;">5 MINUTE CYCLES</div>
      <div style="color:var(--white);font-size:6px;opacity:.7;line-height:2.4;">The bot runs automatically every 5 minutes, 24/7. No human intervention required. Fully autonomous.</div>
    </div>
    <div style="background:var(--bg2);border:3px solid var(--dim);padding:20px;transition:all .3s;" onmouseover="this.style.borderColor='var(--cyan)'" onmouseout="this.style.borderColor='var(--dim)'">
      <div style="color:var(--orange);font-size:16px;margin-bottom:10px;">ğŸ”—</div>
      <div style="color:var(--cyan);font-size:8px;margin-bottom:6px;">100% ON-CHAIN</div>
      <div style="color:var(--white);font-size:6px;opacity:.7;line-height:2.4;">All transactions are on Solana mainnet. Every distribution and burn is verifiable on Solscan in real-time.</div>
    </div>
    <div style="background:var(--bg2);border:3px solid var(--dim);padding:20px;transition:all .3s;" onmouseover="this.style.borderColor='var(--cyan)'" onmouseout="this.style.borderColor='var(--dim)'">
      <div style="color:var(--orange);font-size:16px;margin-bottom:10px;">ğŸ¯</div>
      <div style="color:var(--cyan);font-size:8px;margin-bottom:6px;">HELIUS DAS API</div>
      <div style="color:var(--white);font-size:6px;opacity:.7;line-height:2.4;">Full holder scan via Helius DAS â€” not just top 20. Every wallet, every unrealized loss, ranked and tracked.</div>
    </div>
    <div style="background:var(--bg2);border:3px solid var(--dim);padding:20px;transition:all .3s;" onmouseover="this.style.borderColor='var(--cyan)'" onmouseout="this.style.borderColor='var(--dim)'">
      <div style="color:var(--orange);font-size:16px;margin-bottom:10px;">ğŸ›¡</div>
      <div style="color:var(--cyan);font-size:8px;margin-bottom:6px;">COOLDOWN SYSTEM</div>
      <div style="color:var(--white);font-size:6px;opacity:.7;line-height:2.4;">Winners sit out 2 cycles before they're eligible again. Fair distribution across all losers in the pool.</div>
    </div>
  </div>

</section>

<!-- â•â•â• CONSTITUTION â•â•â• -->
<div id="constitution">
<div class="inner">
  <div class="section-header reveal">
    <div class="section-tag">// IMMUTABLE PROTOCOL LAWS</div>
    <h2 class="section-title">ğŸ“œ THE CONSTITUTION</h2>
    <div class="section-line"></div>
  </div>

  <div class="law-card reveal" style="position:relative;">
    <span class="law-num">LAW I</span>
    <div class="law-title">PAIN IS REWARDED</div>
    <div class="law-text">The holder with the greatest unrealized loss wins the airdrop. Every cycle. No exceptions. The protocol does not reward paper hands â€” only those who hold through pain receive the claws of CRABSTAR.</div>
  </div>

  <div class="law-card reveal" style="border-left-color:var(--orange);position:relative;">
    <span class="law-num" style="background:var(--orange);">LAW II</span>
    <div class="law-title" style="color:var(--orange);">SUPPLY ONLY SHRINKS</div>
    <div class="law-text">50% of every buyback is burned via SPL burn â€” reducing total supply permanently. There is no minting. There is no inflation. Every cycle makes each remaining token more scarce. Forever.</div>
  </div>

  <div class="law-card reveal" style="border-left-color:var(--green);position:relative;">
    <span class="law-num" style="background:var(--green);color:var(--bg);">LAW III</span>
    <div class="law-title" style="color:var(--green);">FULL TRANSPARENCY</div>
    <div class="law-text">Every distribution, every burn, every cycle is on-chain and visible to anyone. The bot wallet is public. The logic is open source on GitHub. No hidden mechanics. No rug. What you see on this dashboard is what happens on the blockchain.</div>
  </div>

  <div class="law-card reveal" style="border-left-color:var(--red);position:relative;">
    <span class="law-num" style="background:var(--red);">LAW IV</span>
    <div class="law-title" style="color:var(--red);">FEES BELONG TO THE PROTOCOL</div>
    <div class="law-text">Creator fees from pump.fun trades do not go to the team. They go entirely back into the redistribution cycle â€” split between losers and the burn. The protocol is self-funding. The crab feeds itself.</div>
  </div>

  <div class="law-card reveal" style="border-left-color:var(--yellow);position:relative;">
    <span class="law-num" style="background:var(--yellow);color:var(--bg);">LAW V</span>
    <div class="law-title" style="color:var(--yellow);">COOLDOWN IS FAIR</div>
    <div class="law-text">A wallet that receives an airdrop must sit out the next 2 cycles. This ensures no single address monopolizes the redistribution. Pain must be fresh. Every holder gets their turn.</div>
  </div>

</div>
</div>

<!-- â•â•â• FOOTER â•â•â• -->
<footer>
  <span class="footer-crab">ğŸ¦€</span>
  <div class="footer-logo">CRABSTAR</div>
  <p style="color:var(--white);font-size:7px;opacity:.5;margin-bottom:8px;">Autonomous Redistribution Agent Â· Solana Â· 2026</p>
  <div class="footer-links">
    <a href="https://x.com/crabstarwilde">ğŸ¦ TWITTER</a>
    <a href="https://github.com/Crabstar-Wilde">ğŸ’» GITHUB</a>
    <a href="#">ğŸ”¥ PUMP.FUN</a>
  </div>
  <div style="max-width:500px;margin:20px auto;background:var(--bg2);border:2px solid var(--border);padding:14px;font-size:7px;color:var(--white);opacity:.5;line-height:2.5;">
    âš ï¸ $CRABSTAR is a memecoin. Not financial advice. Do not invest more than you can afford to lose.
  </div>
  <div class="footer-copy">Â© 2026 CRABSTAR Â· PAIN IS REWARDED Â· SUPPLY SHRINKS Â· FOREVER</div>
</footer>

<!-- â•â•â• SCRIPTS â•â•â• -->
<script>
// â”€â”€ CONFIG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const API = 'https://crabstar-bot.onrender.com';
const CA  = 'YOUR_TOKEN_MINT_ADDRESS'; // change to real CA
const CYCLE_DURATION = 300; // 5 minutes in seconds

// â”€â”€ INTRO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function enterSite() {
  document.getElementById('intro').classList.add('hidden');
}

// â”€â”€ COPY CA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function copyCA() {
  navigator.clipboard.writeText(CA).catch(() => {});
  showToast('CA COPIED! ğŸ¦€');
}

function showToast(msg) {
  const old = document.querySelector('.toast');
  if (old) old.remove();
  const t = document.createElement('div');
  t.className = 'toast';
  t.textContent = msg;
  document.body.appendChild(t);
  setTimeout(() => t.remove(), 2100);
}

// â”€â”€ COUNTDOWN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let cycleStart = Date.now();
let nextCycleAt = Date.now() + CYCLE_DURATION * 1000;

function updateCountdown() {
  const now = Date.now();
  const remaining = Math.max(0, Math.floor((nextCycleAt - now) / 1000));
  const m = Math.floor(remaining / 60).toString().padStart(2, '0');
  const s = (remaining % 60).toString().padStart(2, '0');
  document.getElementById('countdown').textContent = `${m}:${s}`;
  if (remaining <= 0) {
    nextCycleAt = Date.now() + CYCLE_DURATION * 1000;
    fetchAll();
  }
}
setInterval(updateCountdown, 1000);

// â”€â”€ SCROLL REVEAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const obs = new IntersectionObserver(entries => {
  entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('visible'); });
}, { threshold: 0.08 });
document.querySelectorAll('.reveal').forEach(el => obs.observe(el));

// â”€â”€ FORMAT HELPERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function fmt(n, d = 2) {
  if (n === null || n === undefined) return 'â€”';
  const num = parseFloat(n);
  if (isNaN(num)) return 'â€”';
  return num.toFixed(d);
}
function shortWallet(w) {
  if (!w) return 'â€”';
  return w.slice(0, 4) + '...' + w.slice(-4);
}
function pnlClass(v) {
  return parseFloat(v) < 0 ? 'lb-pnl-neg' : 'lb-pnl-pos';
}
function pnlSign(v) {
  const n = parseFloat(v);
  return n > 0 ? `+${fmt(v)}` : fmt(v);
}

// â”€â”€ FETCH STATS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function fetchStats() {
  try {
    const r = await fetch(`${API}/api/stats`);
    const d = await r.json();
    if (!d.success) return;
    const s = d.data;

    // stat cards
    document.getElementById('s-cycles').textContent = s.totalCycles || '0';
    document.getElementById('s-dist').textContent   = fmt(s.totalDistributed, 0);
    document.getElementById('s-burn').textContent   = fmt(s.totalBurned, 0);
    document.getElementById('s-sol').textContent    = fmt(s.totalSolUsed, 4) + ' SOL';

    // ticker
    ['tk-cycles','tk-cycles2'].forEach(id => document.getElementById(id).textContent = s.totalCycles || '0');
    ['tk-dist','tk-dist2'].forEach(id => document.getElementById(id).textContent = fmt(s.totalDistributed, 0));
    ['tk-burn','tk-burn2'].forEach(id => document.getElementById(id).textContent = fmt(s.totalBurned, 0));

    // cycle num
    document.getElementById('cycle-num').textContent = s.totalCycles || '0';

    // last cycle label
    if (s.lastRecipient) {
      const t = new Date(s.lastRecipient.timestamp);
      document.getElementById('last-cycle-label').textContent =
        `Last cycle: ${t.toLocaleTimeString()} â€” ${shortWallet(s.lastRecipient.wallet)} received ${fmt(s.lastRecipient.amount, 0)} $CRABSTAR`;
    }

    document.getElementById('api-status').textContent = 'â— LIVE';
    document.getElementById('api-status').style.color = '#00ff88';
  } catch (e) {
    document.getElementById('api-status').textContent = 'â— OFFLINE';
    document.getElementById('api-status').style.color = '#ff2244';
  }
}

// â”€â”€ FETCH HOLDERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function fetchHolders() {
  try {
    const r = await fetch(`${API}/api/holders`);
    const d = await r.json();
    if (!d.success) return;

    const holders = d.data;
    document.getElementById('s-holders').textContent = holders.length;

    const body = document.getElementById('lb-body');
    if (!holders.length) {
      body.innerHTML = '<div style="padding:20px;text-align:center;color:var(--white);font-size:7px;opacity:.5;">No eligible holders found</div>';
      return;
    }

    body.innerHTML = holders.slice(0, 25).map((h, i) => {
      const rank = i + 1;
      const rankClass = rank === 1 ? 'r1' : rank === 2 ? 'r2' : rank === 3 ? 'r3' : '';
      const rankEmoji = rank === 1 ? 'â˜ ï¸' : rank === 2 ? 'ğŸ’€' : rank === 3 ? 'ğŸ’¸' : rank;
      const rowClass  = rank === 1 ? 'top1' : rank === 2 ? 'top2' : rank === 3 ? 'top3' : '';
      const isTarget  = rank === 1;

      return `
        <div class="lb-row ${rowClass}">
          <span class="lb-rank ${rankClass}">${rankEmoji}</span>
          <span class="lb-wallet">
            <a href="https://solscan.io/account/${h.wallet}" target="_blank">${shortWallet(h.wallet)}</a>
          </span>
          <span class="lb-val">${fmt(h.balance, 0)}</span>
          <span class="lb-val">${fmt(h.costBasis, 4)} SOL</span>
          <span class="lb-val">${fmt(h.currentValue, 4)} SOL</span>
          <span class="${pnlClass(h.pnl)}">${pnlSign(h.pnl)}</span>
          <span class="lb-badge ${isTarget ? 'badge-target' : 'badge-hold'}">${isTarget ? 'ğŸ¯ TARGET' : 'HOLD'}</span>
        </div>
      `;
    }).join('');
  } catch (e) {
    document.getElementById('lb-body').innerHTML =
      '<div style="padding:20px;text-align:center;color:var(--red);font-size:7px;">Failed to load holder data. Is the backend running?</div>';
  }
}

// â”€â”€ FETCH DISTRIBUTIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function fetchDistributions() {
  try {
    const r = await fetch(`${API}/api/distributions`);
    const d = await r.json();
    if (!d.success) return;

    const feed = document.getElementById('dist-feed');
    if (!d.data.length) {
      feed.innerHTML = '<div style="color:var(--white);font-size:7px;opacity:.4;">No distributions yet â€” waiting for first cycle...</div>';
      return;
    }

    feed.innerHTML = d.data.map(dist => `
      <div class="dist-row">
        <span class="dist-cycle">CYCLE #${dist.cycle}</span>
        <span class="dist-wallet">
          <a href="https://solscan.io/account/${dist.recipient}" target="_blank" style="color:var(--cyan);text-decoration:none;">
            ${shortWallet(dist.recipient)}
          </a>
          <span style="opacity:.5;margin-left:6px;">${new Date(dist.timestamp).toLocaleTimeString()}</span>
        </span>
        <span class="dist-amount">+${fmt(dist.amount, 0)} $CRABSTAR</span>
        <span class="dist-burn">ğŸ”¥ ${fmt(dist.amount, 0)} burned</span>
        <a href="https://solscan.io/tx/${dist.txSend}" target="_blank" style="color:var(--dim);font-size:6px;text-decoration:none;" title="View TX">TXâ†—</a>
      </div>
    `).join('');
  } catch (e) {}
}

// â”€â”€ FETCH ALL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function fetchAll() {
  await Promise.all([fetchStats(), fetchHolders(), fetchDistributions()]);
}

// â”€â”€ START â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fetchAll();
setInterval(fetchAll, 15000); // refresh every 15s
</script>

</body>
</html>
